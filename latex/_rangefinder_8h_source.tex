\hypertarget{_rangefinder_8h_source}{}\doxysection{Rangefinder.\+h}
\label{_rangefinder_8h_source}\index{src/Rangefinder.h@{src/Rangefinder.h}}

\begin{DoxyCode}{0}
\DoxyCodeLine{1 \textcolor{preprocessor}{\#pragma once}}
\DoxyCodeLine{2 }
\DoxyCodeLine{3 \textcolor{preprocessor}{\#include <Arduino.h>}}
\DoxyCodeLine{4 }
\DoxyCodeLine{10 \textcolor{keyword}{class }\mbox{\hyperlink{class_rangefinder}{Rangefinder}} }
\DoxyCodeLine{11 \{}
\DoxyCodeLine{12 \textcolor{keyword}{protected}:}
\DoxyCodeLine{13     \textcolor{keyword}{volatile} uint8\_t state = 0;}
\DoxyCodeLine{14 }
\DoxyCodeLine{15     uint8\_t echoPin = -\/1;}
\DoxyCodeLine{16     uint8\_t trigPin = -\/1;}
\DoxyCodeLine{17 }
\DoxyCodeLine{18     \textcolor{comment}{// for keeping track of ping intervals}}
\DoxyCodeLine{19     uint32\_t lastPing = 0;     }
\DoxyCodeLine{20 }
\DoxyCodeLine{21     \textcolor{comment}{// we set the pingInterval to 10 ms, but it won't actually ping that fast}}
\DoxyCodeLine{22     \textcolor{comment}{// since it \_only\_ pings if the ECHO pin is low -\/-\/ that is, it will ping}}
\DoxyCodeLine{23     \textcolor{comment}{// in 10 ms or when the last echo is done, whichever is \_longer\_ }}
\DoxyCodeLine{24     uint32\_t pingInterval = 10;    }
\DoxyCodeLine{25 }
\DoxyCodeLine{26     \textcolor{comment}{// for keeping track of echo duration}}
\DoxyCodeLine{27     \textcolor{keyword}{volatile} uint32\_t pulseStart = 0;}
\DoxyCodeLine{28     \textcolor{keyword}{volatile} uint32\_t pulseEnd = 0;}
\DoxyCodeLine{29 }
\DoxyCodeLine{30     \textcolor{comment}{// holds the last recorded distance}}
\DoxyCodeLine{31     \textcolor{keywordtype}{float} distance = 99;}
\DoxyCodeLine{32 }
\DoxyCodeLine{33 \textcolor{keyword}{public}:}
\DoxyCodeLine{34     \mbox{\hyperlink{class_rangefinder}{Rangefinder}}(uint8\_t echo, uint8\_t trig);}
\DoxyCodeLine{35 }
\DoxyCodeLine{36     \textcolor{comment}{// must call init() to set up pins and interrupts}}
\DoxyCodeLine{37     \textcolor{keywordtype}{void} init(\textcolor{keywordtype}{void});}
\DoxyCodeLine{38 }
\DoxyCodeLine{39     \textcolor{comment}{// checks to see if it's time to emit a ping}}
\DoxyCodeLine{40     uint8\_t \mbox{\hyperlink{class_rangefinder_a0d14d4561a8193af6b9a13d9d59a3b2d}{checkPingTimer}}(\textcolor{keywordtype}{void});}
\DoxyCodeLine{41 }
\DoxyCodeLine{42     \textcolor{comment}{// checks to see if an echo is complete}}
\DoxyCodeLine{43     uint16\_t checkEcho(\textcolor{keywordtype}{void});}
\DoxyCodeLine{44 }
\DoxyCodeLine{47     \textcolor{keywordtype}{float} \mbox{\hyperlink{class_rangefinder_a5d71307f082f5b2d53b48efa7685fdef}{getDistance}}(\textcolor{keywordtype}{void});}
\DoxyCodeLine{48 }
\DoxyCodeLine{49     \textcolor{comment}{// ISR for the echo pin}}
\DoxyCodeLine{50     \textcolor{keywordtype}{void} ISR\_echo(\textcolor{keywordtype}{void});}
\DoxyCodeLine{51 \};}
\DoxyCodeLine{52 }
\DoxyCodeLine{53 \textcolor{comment}{// ISR for the echo}}
\DoxyCodeLine{54 \textcolor{keywordtype}{void} ISR\_Rangefinder(\textcolor{keywordtype}{void});}
\DoxyCodeLine{55 }
\DoxyCodeLine{56 \textcolor{comment}{// we declare as extern so we can refer to it in the ISR}}
\DoxyCodeLine{57 \textcolor{keyword}{extern} \mbox{\hyperlink{class_rangefinder}{Rangefinder}} rangefinder;}

\end{DoxyCode}
